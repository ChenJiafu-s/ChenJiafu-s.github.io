<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>流光数字时钟</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            hour: '#165DFF',
                            minute: '#00B42A',
                            second: '#F53F3F',
                            separator: '#FF7D00'
                        }
                    },
                    fontFamily: {
                        digital: ['"Orbitron"', '"Press Start 2P"', 'sans-serif']
                    },
                    animation: {
                        'pulse-fast': 'pulse 0.5s ease-in-out',
                        'glow-hour': 'glowHour 2s ease-in-out infinite alternate',
                        'glow-minute': 'glowMinute 2s ease-in-out infinite alternate',
                        'glow-second': 'glowSecond 2s ease-in-out infinite alternate',
                        'pulse-separator': 'pulseSeparator 0.3s ease-in-out',
                        'float': 'float 3s ease-in-out infinite'
                    },
                    keyframes: {
                        glowHour: {
                            '0%': { textShadow: '0 0 5px #165DFF, 0 0 10px #165DFF' },
                            '100%': { textShadow: '0 0 15px #165DFF, 0 0 30px #165DFF, 0 0 45px #165DFF' }
                        },
                        glowMinute: {
                            '0%': { textShadow: '0 0 5px #00B42A, 0 0 10px #00B42A' },
                            '100%': { textShadow: '0 0 15px #00B42A, 0 0 30px #00B42A, 0 0 45px #00B42A' }
                        },
                        glowSecond: {
                            '0%': { textShadow: '0 0 5px #F53F3F, 0 0 10px #F53F3F' },
                            '100%': { textShadow: '0 0 15px #F53F3F, 0 0 30px #F53F3F, 0 0 45px #F53F3F' }
                        },
                        pulseSeparator: {
                            '0%': { transform: 'scale(1)', textShadow: '0 0 5px #FF7D00' },
                            '50%': { transform: 'scale(1.2)', textShadow: '0 0 20px #FF7D00, 0 0 30px #FF7D00' },
                            '100%': { transform: 'scale(1)', textShadow: '0 0 5px #FF7D00' }
                        },
                        float: {
                            '0%': { transform: 'translateY(0)' },
                            '100%': { transform: 'translateY(-5px)' }
                        }
                    }
                }
            }
        }
    </script>
    <!-- 自定义工具类 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .digital-clock-digit {
                display: inline-block;
                position: relative;
                margin: 0;
                width: 1.2em;
                text-align: center;
            }
            .separator {
                display: inline-block;
                width: 40px;
                text-align: center;
                margin: 0;
            }
            .clock-bg-gradient {
                background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            }
            .noise-texture {
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3CfeColorMatrix type='matrix' values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.5 0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
                opacity: 0.03;
                pointer-events: none;
            }
            .cursor-hidden {
                cursor: none;
            }
        }
    </style>
    <!-- 导入数字字体 -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- 基础样式 -->
    <style>
        body {
            overflow: hidden;
        }
        .clock-container {
            position: relative;
            z-index: 10;
        }
        .glow-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            filter: blur(60px);
            opacity: 0.3;
            z-index: 5;
        }
        /* 光晕效果增强 */
        .digit-container {
            position: relative;
        }
        .digit-container::before {
            content: '';
            position: absolute;
            top: -20%;
            left: -20%;
            right: -20%;
            bottom: -20%;
            border-radius: 50%;
            filter: blur(30px);
            opacity: 0.2;
            z-index: -1;
            transition: opacity 0.3s ease;
        }
        .digit-hour::before {
            background: #165DFF;
        }
        .digit-minute::before {
            background: #00B42A;
        }
        .digit-second::before {
            background: #F53F3F;
        }
    </style>
</head>
<body class="min-h-screen clock-bg-gradient flex flex-col items-center justify-center cursor-hidden">
    <!-- 背景噪点纹理 -->
    <div class="fixed inset-0 noise-texture"></div>
    
    <!-- 背景光晕效果 -->
    <div class="glow-container bg-gradient-to-r from-primary-hour/20 via-primary-minute/20 to-primary-second/20"></div>
    
    <!-- 主要内容容器 -->
    <div class="clock-container w-full max-w-3xl mx-auto px-4 py-8">
        <!-- 数字时钟显示 -->
        <div id="clock-display" class="flex items-center justify-center text-white text-8xl md:text-[120px] font-digital tracking-wider relative" style="width: 100%; min-height: 150px;">
            <!-- 时 -->
            <div class="digit-container digit-hour">
                <span id="hours" class="digital-clock-digit animate-glow-hour">00</span>
            </div>
            <!-- 分隔符 -->
            <div class="separator">
                <span id="separator-1">:</span>
            </div>
            <!-- 分 -->
            <div class="digit-container digit-minute">
                <span id="minutes" class="digital-clock-digit animate-glow-minute">00</span>
            </div>
            <!-- 分隔符 -->
            <div class="separator">
                <span id="separator-2">:</span>
            </div>
            <!-- 秒 -->
            <div class="digit-container digit-second">
                <span id="seconds" class="digital-clock-digit animate-glow-second">00</span>
            </div>
        </div>
        
        <!-- 日期信息 -->
        <div id="date-info" class="text-center mt-6 text-gray-300 text-lg font-digital">
            <span id="weekday"></span> <span id="date"></span>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 获取DOM元素
            const hoursElement = document.getElementById('hours');
            const minutesElement = document.getElementById('minutes');
            const secondsElement = document.getElementById('seconds');
            const separator1Element = document.getElementById('separator-1');
            const separator2Element = document.getElementById('separator-2');
            const weekdayElement = document.getElementById('weekday');
            const dateElement = document.getElementById('date');
            
            // 星期几中文映射
            const weekdays = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];
            
            // 上一次的秒数，用于检测秒数变化
            let lastSeconds = null;
            // 上一次的分钟数，用于检测是否需要重置分隔符动画状态
            let lastMinutes = null;
            
            // 更新时钟函数
            function updateClock() {
                const now = new Date();
                
                // 获取当前时间
                let hours = now.getHours();
                let minutes = now.getMinutes();
                let seconds = now.getSeconds();
                
                // 格式化时间（补零）
                hours = hours < 10 ? '0' + hours : hours;
                minutes = minutes < 10 ? '0' + minutes : minutes;
                seconds = seconds < 10 ? '0' + seconds : seconds;
                
                // 更新日期信息
                const weekday = weekdays[now.getDay()];
                const date = `${now.getFullYear()}年${now.getMonth() + 1}月${now.getDate()}日`;
                
                // 检测秒数变化，添加闪烁效果
                if (lastSeconds !== null && lastSeconds !== seconds) {
                    secondsElement.classList.add('animate-pulse-fast');
                    setTimeout(() => {
                        secondsElement.classList.remove('animate-pulse-fast');
                    }, 500);
                }
                
                // 检测分钟数变化，添加闪烁效果
                if (lastMinutes !== null && lastMinutes !== minutes) {
                    minutesElement.classList.add('animate-pulse-fast');
                    setTimeout(() => {
                        minutesElement.classList.remove('animate-pulse-fast');
                    }, 500);
                    
                    // 重置分隔符动画状态
                    separator1Element.classList.remove('animate-pulse-separator');
                    separator2Element.classList.remove('animate-pulse-separator');
                }
                
                // 每分钟的第30秒，给分隔符添加动画效果
                if (seconds === '30' && lastSeconds !== '30') {
                    // 移除任何可能存在的旧动画类
                    separator1Element.classList.remove('animate-pulse-separator');
                    separator2Element.classList.remove('animate-pulse-separator');
                    
                    // 强制重排以确保动画正常工作
                    void separator1Element.offsetWidth;
                    void separator2Element.offsetWidth;
                    
                    // 添加新的动画类和颜色
                    separator1Element.classList.add('animate-pulse-separator');
                    separator2Element.classList.add('animate-pulse-separator');
                    separator1Element.style.color = '#FF7D00';
                    separator2Element.style.color = '#FF7D00';
                } else if (seconds !== '30') {
                    separator1Element.classList.remove('animate-pulse-separator');
                    separator2Element.classList.remove('animate-pulse-separator');
                    separator1Element.style.color = 'white';
                    separator2Element.style.color = 'white';
                }
                
                // 更新DOM显示
                hoursElement.textContent = hours;
                minutesElement.textContent = minutes;
                secondsElement.textContent = seconds;
                weekdayElement.textContent = weekday;
                dateElement.textContent = date;
                
                // 记录当前时间，用于下次比较
                lastSeconds = seconds;
                lastMinutes = minutes;
            }
            
            // 初始更新
            updateClock();
            
            // 每秒更新一次时钟
            setInterval(updateClock, 1000);
            
            // 添加窗口大小响应
            function handleResize() {
                // 根据窗口宽度调整字体大小
                const windowWidth = window.innerWidth;
                const clockDisplay = document.getElementById('clock-display');
                
                if (windowWidth < 640) {
                    clockDisplay.classList.remove('text-8xl', 'md:text-[120px]');
                    clockDisplay.classList.add('text-4xl');
                } else if (windowWidth < 768) {
                    clockDisplay.classList.remove('text-8xl', 'md:text-[120px]');
                    clockDisplay.classList.add('text-6xl');
                } else {
                    clockDisplay.classList.remove('text-4xl', 'text-6xl');
                    clockDisplay.classList.add('text-8xl', 'md:text-[120px]');
                }
            }
            
            // 初始调整
            handleResize();
            
            // 监听窗口大小变化
            window.addEventListener('resize', handleResize);
        });
    </script>
</body>
</html>